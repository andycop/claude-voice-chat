<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Voice Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Claude Voice Chat</h1>
        
        <div class="status-indicators">
            <div class="status-indicator">
                <span class="status-label">Connection:</span>
                <span id="status">Disconnected</span>
            </div>
            <div class="status-indicator">
                <span class="status-label">Speech Detection:</span>
                <span id="speechStatus">Inactive</span>
            </div>
            <div class="status-indicator">
                <span class="status-label">API Processing:</span>
                <span id="apiStatus">Inactive</span>
            </div>
            <div class="status-indicator">
                <span class="status-label">Claude:</span>
                <span id="claudeStatus">Inactive</span>
            </div>
        </div>
        
        <div class="audio-settings">
            <div class="microphone-selector">
                <label for="microphoneSelect">Microphone:</label>
                <select id="microphoneSelect" class="microphone-dropdown">
                    <option value="">Loading microphones...</option>
                </select>
            </div>
        </div>

        <div class="controls">
            <button id="startBtn" class="primary-btn">Start Listening</button>
            <button id="stopBtn" class="primary-btn" disabled>Stop Listening</button>
            <button id="debugBtn" class="debug-btn">Debug Status</button>
        </div>
        
        <div class="recording-controls">
            <button id="startRecordingBtn" class="recording-btn">Start Recording Audio</button>
            <button id="stopRecordingBtn" class="recording-btn" disabled>Stop Recording</button>
            <div id="recordingInfo" class="recording-info"></div>
        </div>
        
        <div class="audio-visualizer">
            <canvas id="audioVisualizer" width="700" height="60"></canvas>
        </div>
        
        <div class="conversation-container">
            <h2>Conversation</h2>
            <div id="conversation" class="conversation">
                <div class="welcome-message">
                    <p>Welcome to Claude Voice Chat. Click "Start Listening" to begin.</p>
                </div>
            </div>
        </div>
        
        <div class="transcript-container">
            <h2>Current Transcript</h2>
            <div id="transcript" class="transcript"></div>
        </div>
    </div>

    <!-- Add Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/marked.min.js"></script>
    <script src="app.js"></script>
</body>
</html>